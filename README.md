# ğŸ¨ Napkin AI API Playground

<div align="center">

![Napkin AI](https://img.shields.io/badge/Napkin%20AI-API-FF6B6B?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI0ZGNkI2QiIgZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPjwvc3ZnPg==)
![Version](https://img.shields.io/badge/version-0.3.2-purple?style=for-the-badge&logo=github)
![Status](https://img.shields.io/badge/status-Production%20Ready-success?style=for-the-badge&logo=statuspage)

### ğŸ› ï¸ Tech Stack

![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Poetry](https://img.shields.io/badge/Poetry-60A5FA?style=for-the-badge&logo=poetry&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white)
![Typer](https://img.shields.io/badge/Typer-CLI-4B8BBE?style=for-the-badge&logo=python&logoColor=white)
![Pydantic](https://img.shields.io/badge/Pydantic-V2-E92063?style=for-the-badge&logo=pydantic&logoColor=white)

### ğŸ“Š Project Stats

![GitHub Actions](https://img.shields.io/badge/CI%2FCD-Passing-brightgreen?style=for-the-badge&logo=githubactions&logoColor=white)
![Tests](https://img.shields.io/badge/Tests-18%20Passing-brightgreen?style=for-the-badge&logo=pytest&logoColor=white)
![Coverage](https://img.shields.io/badge/Coverage-100%25-brightgreen?style=for-the-badge&logo=codecov&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge&logo=opensourceinitiative&logoColor=white)

### ğŸ”§ Code Quality

![Ruff](https://img.shields.io/badge/Linter-Ruff-FCC21B?style=for-the-badge&logo=ruff&logoColor=black)
![MyPy](https://img.shields.io/badge/Type%20Checker-MyPy-blue?style=for-the-badge&logo=python&logoColor=white)
![Security](https://img.shields.io/badge/Security-Bandit-yellow?style=for-the-badge&logo=python&logoColor=white)
![Pre-commit](https://img.shields.io/badge/pre--commit-enabled-brightgreen?style=for-the-badge&logo=pre-commit&logoColor=white)

### ğŸŒŸ Features

![Languages](https://img.shields.io/badge/Languages-30%2B-4285F4?style=for-the-badge&logo=googletranslate&logoColor=white)
![Styles](https://img.shields.io/badge/Visual%20Styles-15%2B-FF6B6B?style=for-the-badge&logo=adobe&logoColor=white)
![API](https://img.shields.io/badge/API-Async-00D084?style=for-the-badge&logo=fastapi&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker&logoColor=white)

**Transform text into stunning visuals with the power of AI** âœ¨

[ğŸš€ Quick Start](#-quick-start) â€¢ [âœ¨ Features](#-features) â€¢ [ğŸ“š Documentation](#-documentation) â€¢ [ğŸ® Demo](#-demo) â€¢ [ğŸ¤ Contributing](#-contributing)

</div>

---

## ğŸ¯ What is Napkin AI API Playground?

A **production-ready** Python toolkit featuring both a **ğŸŒ Streamlit web interface** and **ğŸ’» powerful CLI** that seamlessly transforms your text into professional-grade visuals using the Napkin AI API. Built with modern Python practices, robust error handling, intelligent retries, and comprehensive monitoring.

<div align="center">
<table>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/Web%20App-Streamlit-FF4B4B?style=flat-square&logo=streamlit&logoColor=white" />
<br>Interactive Web UI
</td>
<td align="center">
<img src="https://img.shields.io/badge/CLI-Typer-4B8BBE?style=flat-square&logo=python&logoColor=white" />
<br>Command Line Tool
</td>
<td align="center">
<img src="https://img.shields.io/badge/API-Async-00D084?style=flat-square&logo=fastapi&logoColor=white" />
<br>Async Operations
</td>
<td align="center">
<img src="https://img.shields.io/badge/CI%2FCD-GitHub%20Actions-2088FF?style=flat-square&logo=githubactions&logoColor=white" />
<br>Automated Testing
</td>
</tr>
</table>
</div>

### ğŸ¯ Perfect for:
- ğŸ“Š **Data Scientists** - Visualize complex concepts instantly
- ğŸ‘©â€ğŸ’» **Developers** - Generate architecture diagrams from descriptions
- ğŸ“š **Educators** - Create engaging visual content for teaching
- ğŸ’¼ **Product Managers** - Quickly sketch out ideas and workflows
- ğŸ¨ **Content Creators** - Transform text into beautiful graphics

## âœ¨ Features

<table>
<tr>
<td>

### ğŸŒ Streamlit Web Interface
- **Interactive UI** with real-time generation
- **Live preview** of all visual styles
- **Multi-language support** (30+ languages)
- **Advanced options** panel
- **Download manager** for all formats
- **Mobile-responsive** design

</td>
<td>

### ğŸ’» Powerful CLI
- **Full-featured** command line tool
- **Batch processing** capabilities
- **JSON/CSV export** options
- **Rich terminal** output
- **Progress tracking** with spinners
- **Configuration management**

</td>
</tr>
<tr>
<td>

### ğŸ¨ 15+ Visual Styles
- **Vibrant** - Bold, energetic visuals
- **Sketch** - Hand-drawn aesthetics
- **Corporate** - Professional graphics
- **Minimalist** - Clean, simple designs
- **Comic** - Fun, playful style
- **And many more!**

</td>
<td>

### âš¡ Advanced Features
- **Async API** with retry logic
- **Rate limiting** (60 req/min)
- **Error monitoring** dashboard
- **GitHub Actions** integration
- **Docker support**
- **Type-safe** with Pydantic v2

</td>
</tr>
</table>

## ğŸš€ Quick Start

### ğŸ“¦ Installation

```bash
# Clone the repository
git clone https://github.com/moshehbenavraham/Napkin-AI-API.git
cd Napkin-AI-API

# Install with Poetry (recommended)
poetry install

# Or use pip
pip install -r requirements.txt
```

### ğŸ”‘ Configuration

```bash
# Copy example config
cp .env.example .env

# Add your API token (get one at https://napkin.ai)
echo "NAPKIN_API_TOKEN=your_token_here" >> .env

# Optional: Add GitHub token for error monitoring
echo "GITHUB_TOKEN=ghp_your_github_token" >> .env
```

### ğŸ® Demo

#### ğŸŒ Web Interface (Streamlit)

```bash
# Launch the web app
poetry run streamlit run streamlit_app.py

# Or with custom port
poetry run streamlit run streamlit_app.py --server.port 8080

# Access at http://localhost:8501
```

<details>
<summary>ğŸ“¸ <b>Web Interface Screenshots</b></summary>

- Main generation interface
- Style browser with categories
- Multi-language support
- Advanced options panel
- Real-time generation
- Download manager

</details>

#### ğŸ’» Command Line Interface

```bash
# Generate your first visual
poetry run napkin generate "Machine Learning Pipeline"

# With specific style and format
poetry run napkin generate "Data Flow" --style sketch-notes --format png

# Multiple variations
poetry run napkin generate "System Architecture" --variations 4

# Export to JSON
poetry run napkin generate "Workflow" --json output.json
```

## ğŸ› ï¸ Advanced Usage

### ğŸŒ Multi-Language Support

Generate visuals in 30+ languages with proper BCP 47 language tags:

```bash
# Spanish
napkin generate "Flujo de datos" --language es-ES

# Japanese
napkin generate "ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼" --language ja-JP

# Arabic
napkin generate "ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" --language ar
```

### ğŸ¯ Context Options

Add context for more meaningful visuals:

```bash
napkin generate "Neural Network" \
  --context-before "Introduction to" \
  --context-after "for beginners"
```

### ğŸ”„ Visual Regeneration

Update existing visuals or search for specific types:

```bash
# Regenerate existing visual
napkin generate "Updated Content" --visual-id "5UCQJLAV5S6NXEWS2PBJF54UYPW5NZ4G"

# Search for specific visual type
napkin generate "Project Timeline" --visual-query "timeline"
```

### ğŸ“ Custom Dimensions

For PNG format with specific dimensions:

```bash
napkin generate "Architecture" \
  --format png \
  --width 1920 \
  --height 1080 \
  --transparent \
  --inverted-color
```

## ğŸ” GitHub Actions Error Monitoring

### ğŸ“Š Built-in CI/CD Monitoring

Our project includes a comprehensive error monitoring system for GitHub Actions:

```bash
# Check recent CI failures
bin/failures

# Check last 10 failures
bin/failures 10

# Export failures to JSON
python scripts/check_failures.py 20 --json failures.json

# Simple one-line format
python scripts/check_failures.py --simple
```

### ğŸ”” Automated Notifications

Configure automatic notifications for CI/CD failures:

<table>
<tr>
<td>

**Slack Integration**
```yaml
SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
```

</td>
<td>

**Discord Integration**
```yaml
DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
```

</td>
</tr>
<tr>
<td>

**Email Alerts**
```yaml
EMAIL_USERNAME: ${{ secrets.EMAIL_USERNAME }}
EMAIL_PASSWORD: ${{ secrets.EMAIL_PASSWORD }}
```

</td>
<td>

**GitHub Issues**
```yaml
CREATE_GITHUB_ISSUE: true
GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

</td>
</tr>
</table>

## ğŸ“š Documentation

| Document | Description | Badge |
|----------|-------------|-------|
| ğŸ“˜ [SETUP.md](docs/SETUP.md) | Installation guide | ![Setup](https://img.shields.io/badge/Setup-Guide-blue?style=flat-square) |
| ğŸ“— [USAGE.md](docs/USAGE.md) | Usage examples | ![Usage](https://img.shields.io/badge/Usage-Examples-green?style=flat-square) |
| ğŸ“™ [API_REFERENCE.md](docs/API_REFERENCE.md) | API documentation | ![API](https://img.shields.io/badge/API-Reference-orange?style=flat-square) |
| ğŸ“• [CHANGELOG.md](docs/CHANGELOG.md) | Version history | ![Changelog](https://img.shields.io/badge/Changelog-v0.3.2-purple?style=flat-square) |
| ğŸ” [SECURITY.md](docs/SECURITY.md) | Security guidelines | ![Security](https://img.shields.io/badge/Security-Guidelines-red?style=flat-square) |
| ğŸŒ [WEB_APP_FEATURES.md](docs/WEB_APP_FEATURES.md) | Streamlit features | ![Streamlit](https://img.shields.io/badge/Streamlit-Features-FF4B4B?style=flat-square) |
| ğŸ”” [GITHUB_ERROR_MONITORING.md](docs/GITHUB_ERROR_MONITORING.md) | CI/CD monitoring | ![Monitoring](https://img.shields.io/badge/CI%2FCD-Monitoring-2088FF?style=flat-square) |

## ğŸ—ï¸ Architecture

```mermaid
graph TD
    A[ğŸŒ Web UI / ğŸ’» CLI] -->|Streamlit / Typer| B[âš™ï¸ Core Generator]
    B --> C[ğŸ”Œ API Client]
    C -->|httpx + tenacity| D[â˜ï¸ Napkin API]
    B --> E[ğŸ“‹ Pydantic Models]
    E --> F[âœ… Type Validation]
    B --> G[ğŸ” Error Monitor]
    G --> H[ğŸ“Š GitHub Actions]
    
    style A fill:#FF4B4B,stroke:#333,stroke-width:2px
    style D fill:#4285F4,stroke:#333,stroke-width:2px
    style H fill:#2088FF,stroke:#333,stroke-width:2px
```

<details>
<summary><b>ğŸ“ Project Structure</b></summary>

```
napkin-api-playground/
â”œâ”€â”€ ğŸ“± streamlit_app.py     # Web interface (600+ lines)
â”œâ”€â”€ ğŸš€ main.py              # CLI entry point
â”œâ”€â”€ ğŸ”§ bin/
â”‚   â””â”€â”€ failures            # Error monitoring tool
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ”Œ api/            # Async API client & models
â”‚   â”œâ”€â”€ ğŸ’» cli/            # CLI commands & display
â”‚   â”œâ”€â”€ âš™ï¸ core/           # Generation orchestration
â”‚   â””â”€â”€ ğŸ”§ utils/          # Config & helpers
â”œâ”€â”€ ğŸ§ª tests/              # 18 comprehensive tests
â”œâ”€â”€ ğŸ“š docs/               # Complete documentation
â”œâ”€â”€ ğŸ” scripts/            # Monitoring & utilities
â””â”€â”€ ğŸ¨ data/               # Generated visuals
```

</details>

## ğŸ§ª Development

### ğŸ”¬ Testing & Quality

```bash
# Run all tests (18 tests)
poetry run pytest

# With coverage report
poetry run pytest --cov=src --cov-report=html

# Type checking
poetry run mypy src/

# Linting
poetry run ruff check src/

# Security scan
poetry run bandit -r src/
```

### ğŸ“Š Code Quality Metrics

<div align="center">
<table>
<tr>
<td align="center">
<b>Tests</b><br>
<img src="https://img.shields.io/badge/18-passing-brightgreen?style=flat-square" />
</td>
<td align="center">
<b>Coverage</b><br>
<img src="https://img.shields.io/badge/100%25-covered-brightgreen?style=flat-square" />
</td>
<td align="center">
<b>Type Safety</b><br>
<img src="https://img.shields.io/badge/MyPy-strict-blue?style=flat-square" />
</td>
<td align="center">
<b>Linting</b><br>
<img src="https://img.shields.io/badge/Ruff-clean-green?style=flat-square" />
</td>
<td align="center">
<b>Security</b><br>
<img src="https://img.shields.io/badge/Bandit-passed-yellow?style=flat-square" />
</td>
</tr>
</table>
</div>

## ğŸŒŸ What's New in v0.3.2

### âœ¨ Latest Features
- âœ… **Production-ready** status with all tests passing
- âœ… **Unified error monitoring** system
- âœ… **Enhanced CI/CD** with automatic notifications
- âœ… **Improved documentation** with badges
- âœ… **Fixed all deprecation** warnings
- âœ… **Python 3.10+** compatibility

### ğŸ¨ Web Interface (v0.3.0)
- ğŸŒ **30+ languages** with BCP 47 tags
- ğŸ“‹ **Context options** for better visuals
- ğŸ¯ **Advanced settings** panel
- ğŸ”„ **Visual regeneration** feature
- ğŸ” **Visual type search**
- ğŸ“± **Mobile-responsive** design

## ğŸ¤ Contributing

We love contributions! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

<div align="center">
<table>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/PRs-Welcome-brightgreen?style=for-the-badge" />
</td>
<td align="center">
<img src="https://img.shields.io/badge/Issues-Welcome-blue?style=for-the-badge" />
</td>
<td align="center">
<img src="https://img.shields.io/badge/Questions-Welcome-purple?style=for-the-badge" />
</td>
</tr>
</table>
</div>

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“Š Project Roadmap

### âœ… Completed Phases

<details>
<summary>âœ… <b>Phase 1: Core MVP</b></summary>

- [x] Core API integration
- [x] CLI with all parameters
- [x] 15+ styles support
- [x] Async operations
- [x] Comprehensive testing

</details>

<details>
<summary>âœ… <b>Phase 2: Web Interface</b></summary>

- [x] Streamlit web application
- [x] Interactive style browser
- [x] Real-time generation
- [x] Download functionality
- [x] Multi-language support
- [x] Advanced options panel

</details>

<details>
<summary>âœ… <b>Phase 3: Production Ready</b></summary>

- [x] CI/CD pipeline
- [x] Error monitoring
- [x] Automated notifications
- [x] Security scanning
- [x] 100% test coverage
- [x] Documentation complete

</details>

### ğŸš§ Upcoming Features

- [ ] **Batch Processing** - Process multiple visuals from CSV/JSON
- [ ] **Gallery Mode** - Local SQLite gallery with search
- [ ] **Custom Styles** - Create and save custom visual styles
- [ ] **Team Collaboration** - Share visuals with team members
- [ ] **Cloud Integration** - S3/GCS storage support
- [ ] **API Webhooks** - Real-time generation notifications

## ğŸ”’ Security

<div align="center">
<table>
<tr>
<td align="center">ğŸ” Tokens Never Logged</td>
<td align="center">ğŸ›¡ï¸ .env Gitignored</td>
<td align="center">âœ… Input Validation</td>
</tr>
<tr>
<td align="center">ğŸ”„ HTTPS Only</td>
<td align="center">ğŸ”‘ Bearer Auth</td>
<td align="center">ğŸŒ Secure Headers</td>
</tr>
</table>
</div>

See [SECURITY.md](docs/SECURITY.md) for full security practices.

## ğŸ› Troubleshooting

<details>
<summary>ğŸ’» <b>CLI Issues</b></summary>

| Issue | Solution |
|-------|----------|
| Rate limit errors | Client auto-retries with backoff (60 req/min limit) |
| File not found | Ensure output directory exists or use default `./data/visuals` |
| Token errors | Check `NAPKIN_API_TOKEN` in `.env` file |

</details>

<details>
<summary>ğŸŒ <b>Web Interface Issues</b></summary>

| Issue | Solution |
|-------|----------|
| 403 Forbidden | Update to latest version (fixed in v0.2.1) |
| Pydantic errors | Update to latest version (fixed in v0.2.2) |
| Auth header required | Ensure API token is set correctly |

</details>

<details>
<summary>ğŸ”§ <b>Development Issues</b></summary>

| Issue | Solution |
|-------|----------|
| Poetry lock errors | Run `poetry lock` to update |
| Type check failures | Run `poetry run mypy src/` |
| Test failures | Ensure `.env` has valid token |

</details>

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.

## ğŸ™ Acknowledgments

<div align="center">
<table>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/Powered%20by-Napkin%20AI-FF6B6B?style=for-the-badge" /><br>
<a href="https://napkin.ai">Napkin AI API</a>
</td>
<td align="center">
<img src="https://img.shields.io/badge/Built%20with-Poetry-60A5FA?style=for-the-badge" /><br>
<a href="https://python-poetry.org/">Poetry</a>
</td>
</tr>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/UI%20with-Streamlit-FF4B4B?style=for-the-badge" /><br>
<a href="https://streamlit.io">Streamlit</a>
</td>
<td align="center">
<img src="https://img.shields.io/badge/CLI%20with-Typer-4B8BBE?style=for-the-badge" /><br>
<a href="https://typer.tiangolo.com/">Typer</a>
</td>
</tr>
</table>
</div>

## ğŸ“ Support

<div align="center">
<table>
<tr>
<td align="center">
ğŸ“§ <b>Email</b><br>
<a href="mailto:api@napkin.ai">api@napkin.ai</a>
</td>
<td align="center">
ğŸ› <b>Issues</b><br>
<a href="https://github.com/moshehbenavraham/Napkin-AI-API/issues">GitHub Issues</a>
</td>
<td align="center">
ğŸ’¬ <b>Discussions</b><br>
<a href="https://github.com/moshehbenavraham/Napkin-AI-API/discussions">GitHub Discussions</a>
</td>
</tr>
</table>
</div>

---

<div align="center">

### ğŸŒŸ Star us on GitHub!

If you find this project useful, please consider giving it a star â­

![Stars](https://img.shields.io/github/stars/moshehbenavraham/Napkin-AI-API?style=social)
![Forks](https://img.shields.io/github/forks/moshehbenavraham/Napkin-AI-API?style=social)
![Watchers](https://img.shields.io/github/watchers/moshehbenavraham/Napkin-AI-API?style=social)

**Made with ğŸ¨ and Python by the Napkin AI Community**

[â¬† Back to top](#-napkin-ai-api-playground)

</div>